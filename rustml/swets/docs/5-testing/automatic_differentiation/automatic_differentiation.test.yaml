kind: test_plan
domain: Automatic Differentiation
section: '2.2'
specRef: docs/1-requirements/automatic_differentiation/automatic_differentiation.spec.yaml
testCases:
- id: TC-001
  test: 'FR-200: `GradientTape` records forward operations as `TapeEntry` list (Test)'
  verifies: REQ-001
  priority: Must
- id: TC-002
  test: 'FR-201: `TapeEntry` stores: `BackwardOp`, output ID, input IDs, saved tensors (Test)'
  verifies: REQ-002
  priority: Must
- id: TC-003
  test: 'FR-202: `BackwardOp` trait with `backward(grad_output, saved) -> Vec<input_grads>` (Test)'
  verifies: REQ-003
  priority: Must
- id: TC-004
  test: 'FR-203: `GradientTape::backward(loss_id)` replays tape in reverse, accumulates gradients in `HashMap<TensorId, Tensor>` (Test)'
  verifies: REQ-004
  priority: Must
- id: TC-005
  test: 'FR-204: `GradientTape::grad(id)` retrieves gradient for a tensor (Test)'
  verifies: REQ-005
  priority: Must
- id: TC-006
  test: 'FR-205: `GradientTape::clear()` resets ops and gradients between training steps (Test)'
  verifies: REQ-006
  priority: Must
- id: TC-007
  test: 'FR-206: `tape.enabled` flag to disable recording (inference mode) (Test)'
  verifies: REQ-007
  priority: Must
- id: TC-008
  test: 'FR-207: `Layer::forward` accepts `Option<&mut GradientTape>` â€” `None` means no recording (Test)'
  verifies: REQ-008
  priority: Must
- id: TC-009
  test: 'FR-208: Scoped `no_grad` helper that temporarily disables tape (Test)'
  verifies: REQ-009
  priority: Should
- id: TC-010
  test: 'FR-209: Non-tracking `_raw` variants of ops (e.g. `matmul_raw`) for use inside backward implementations (Test)'
  verifies: REQ-010
  priority: Must
- id: TC-011
  test: 'FR-210: MatMul (Test)'
  verifies: REQ-011
  priority: Must
- id: TC-012
  test: 'FR-211: Add (Test)'
  verifies: REQ-012
  priority: Must
- id: TC-013
  test: 'FR-212: Mul (element-wise) (Test)'
  verifies: REQ-013
  priority: Must
- id: TC-014
  test: 'FR-213: Sigmoid (Test)'
  verifies: REQ-014
  priority: Must
- id: TC-015
  test: 'FR-214: Tanh (Test)'
  verifies: REQ-015
  priority: Must
- id: TC-016
  test: 'FR-215: ReLU (Test)'
  verifies: REQ-016
  priority: Must
- id: TC-017
  test: 'FR-216: Softmax (Test)'
  verifies: REQ-017
  priority: Must
- id: TC-018
  test: 'FR-217: Conv1d (Test)'
  verifies: REQ-018
  priority: Must
